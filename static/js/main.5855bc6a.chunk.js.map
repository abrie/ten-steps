{"version":3,"sources":["components/Tone/index.js","components/Tone/context.js","components/Landing/index.js","components/Metrics/index.js","components/Transport/index.js","components/Synths/index.js","components/Example1/index.js","components/Example2/index.js","components/Example3/index.js","components/Example4/index.js","components/Example5/index.js","components/LFSR/index.js","components/Example6/index.js","components/MIDI/index.js","components/Example7/index.js","components/Example8/index.js","components/Example9/index.js","components/Example10/index.js","constants/routes.js","App.js","serviceWorker.js","index.js"],"names":["Tone","React","createContext","appId","sessionId","Math","random","reportMetric","data","a","async","url","fetch","method","mode","cache","credentials","headers","redirect","referrerPolicy","body","JSON","stringify","postData","process","window","addEventListener","type","params","useState","playing","setPlaying","position","setPosition","useEffect","example","label","action","setLoopPoints","length","loop","id","scheduleRepeat","split","clear","stop","className","onClick","start","disabled","DefaultSynth","Synth","toMaster","PulseSynth","synth","oscillator","volume","value","BetterSynth","harmonicity","modulationType","envelope","attackCurve","attack","decay","sustain","release","portamento","synthLoop","Loop","time","triggerAttackRelease","dispose","Transport","notes","push","shift","randomIndex","floor","randomNote","array","synths","forEach","TAPS","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","LFSR","n","seed","this","DEFAULT_LENGTH","taps","_defaultSeed","mask","parseInt","Array","join","register","prototype","i","tapsNum","bit","seq","seqString","maxSeqLen","initialState","counter","Error","makeLFSR","initial","synthsLFSR","notesLFSR","select","lfsr","aria-label","role","PitchToMidi","note","exec","pitch","octave","cbb","cb","c","cx","dbb","db","d","dx","ebb","eb","e","ex","fbb","fb","f","fx","gbb","gb","g","gx","abb","ab","ax","bbb","bb","b","bx","toLowerCase","buildTriad","root","map","semi","Frequency","skip","KickDrum","MembraneSynth","SnareDrum","NoiseSynth","HatDrum","hat","MetalSynth","velocity","v","drums","percussion","t","percussionLFSR","drumLoop","hit","drum","LANDING","EXAMPLE_1","EXAMPLE_2","EXAMPLE_3","EXAMPLE_4","EXAMPLE_5","EXAMPLE_6","EXAMPLE_7","EXAMPLE_8","EXAMPLE_9","EXAMPLE_10","App","props","context","state","authorized","setAuthorized","href","basename","to","ROUTES","activeClassName","exact","path","component","Landing","Example1","Example2","Example3","Example4","Example5","Example6","Example7","Example8","Example9","Example10","then","Boolean","location","hostname","match","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"iSAGeA,GCDAC,IAAMC,cAAc,MDCpBF,GEDA,aACb,OACE,kR,iCCJEG,EAAQ,WACRC,EAAS,UAAsB,MAAhBC,KAAKC,UAsB1B,SAASC,EAAaC,IApBtB,iCAAAC,EAAAC,OAAA,uDAAwBC,EAAxB,+BAA8B,GAAIH,EAAlC,+BAAyC,GAAzC,kBAESI,MAAMD,EAAK,CAChBE,OAAQ,OACRC,KAAM,UACNC,MAAO,WACPC,YAAa,cACbC,QAAS,CACP,eAAgB,oBAElBC,SAAU,SACVC,eAAgB,cAChBC,KAAMC,KAAKC,UAAUd,MAZzB,qCAqBEe,CAASC,yBAAD,eACHhB,EADG,CAENL,QACAC,eARJqB,OAAOC,iBAAiB,gBAAgB,WACtCnB,EAAa,CAAEoB,KAAM,iBAWRpB,QC1BA,WAASqB,GAAS,IAAD,EACAC,oBAAS,GADT,mBACvBC,EADuB,KACdC,EADc,OAEEF,mBAAS7B,YAAegC,UAF1B,mBAEvBA,EAFuB,KAEbC,EAFa,KAI9BC,qBAAU,WACR3B,EAAa,CAAE4B,QAASP,EAAOQ,MAAOC,OAAQ,WAC7C,CAACT,EAAOQ,QAEXF,qBAAU,WACRlC,YAAegC,SAAW,EAC1BhC,YAAesC,cAAc,EAAGV,EAAOW,QACvCvC,YAAewC,MAAO,IACrB,CAACZ,EAAOW,SAmCX,OAfAL,qBAAU,WACR,IAAMO,EAAKzC,YAAe0C,gBACxB,WACET,EAAYjC,YAAegC,SAASW,MAAM,KAAK,MAEjD,OACA,MAEF,OAAO,WACL3C,YAAe4C,MAAMH,GACrBzC,YAAe6C,OACftC,EAAa,CAAE4B,QAASP,EAAOQ,MAAOC,OAAQ,YAE/C,CAACT,EAAOQ,QAGT,yBAAKU,UAAU,aACb,yBAAKA,UAAU,WAAWd,GAC1B,yBAAKc,UAAU,YACb,4BAAQA,UAAU,OAAOC,QArClB,WACXxC,EAAa,CAAE4B,QAASP,EAAOQ,MAAOC,OAAQ,SAC9CrC,YAAegD,QACfjB,GAAW,IAkCiCkB,SAAUnB,GAAlD,QAGA,4BAAQgB,UAAU,OAAOC,QA5BZ,WACjBxC,EAAa,CAAE4B,QAASP,EAAOQ,MAAOC,OAAQ,SAC9CN,GAAW,GACX/B,YAAegD,SAyBmCC,SAAUnB,GAAxD,QAGA,4BAAQiB,QArCD,WACXxC,EAAa,CAAE4B,QAASP,EAAOQ,MAAOC,OAAQ,SAC9CrC,YAAe6C,OACfd,GAAW,IAkCgBkB,UAAWnB,GAAlC,WC5DD,SAASoB,IACd,OAAO,IAAIlD,EAAKmD,OAAQC,WAGnB,SAASC,IACd,IAAMC,EAAQ,IAAItD,EAAKmD,MAAM,CAC3BI,WAAY,CACV5B,KAAM,aAEPyB,WAEH,OADAE,EAAME,OAAOC,OAAS,GACfH,EAGF,SAASI,IAgBd,OAfY,IAAI1D,EAAKmD,MAAM,CACzBI,WAAY,CACV5B,KAAM,aACNgC,YAAa,GACbC,eAAgB,QAElBC,SAAU,CACRC,YAAa,cACbC,OAAQ,IACRC,MAAO,GACPC,QAAS,GACTC,QAAS,KAEXC,WAAY,OACXf,WC1BU,iBAoBb,OAFAlB,qBAfA,WACE,IAAMoB,EAAQ,IAAIJ,EAEZkB,EAAY,IAAIpE,EAAKqE,MAAK,SAAAC,GAC9BhB,EAAMiB,qBAAqB,KAAM,KAAMD,KACtC,MAIH,OAFAF,EAAUpB,MAAM,MAAMH,KAAK,MAEpB,WACLS,EAAMkB,UACNJ,EAAUI,aAIC,IAGb,6BACE,iDACqB,wCAErB,kBAACC,EAAD,CAAWlC,OAxBA,KAwBgBH,MAAM,QCzBxB,aAuBb,OAFAF,qBAlBA,WACE,IAAMoB,EAAQ,IAAIJ,EAEZwB,EAAQ,CAAC,KAAM,KAAM,KAAM,MAG3BN,EAAY,IAAIpE,EAAKqE,MAAK,SAAAC,GAC9BhB,EAAMiB,qBAHeG,EAAMA,EAAMC,KAAKD,EAAME,SAAW,GAGhB,KAAMN,KAC5C,MAIH,OAFAF,EAAUpB,MAAM,MAAMH,KAAK,MAEpB,WACLS,EAAMkB,UACNJ,EAAUI,aAIC,IAGb,6BACE,2BACE,+CADF,OAGA,kBAACC,EAAD,CAAWlC,OA3BA,KA2BgBH,MAAM,QC5BxB,aACb,IAAMG,EAAS,KA0Bf,OAFAL,qBAtBA,WACE,IAAMoB,EAAQ,IAAIJ,EAEZwB,EAAQ,CAAC,KAAM,KAAM,KAAM,MAO3BN,EAAY,IAAIpE,EAAKqE,MAAK,SAAAC,GAC9BhB,EAAMiB,qBANW,WACjB,IAAMM,EAAcxE,KAAKyE,MAAMzE,KAAKC,SAAWoE,EAAMnC,QACrD,OAAOmC,EAAMG,GAIcE,GAAc,KAAMT,KAC9C,MAIH,OAFAF,EAAUpB,MAAM,MAAMH,KAAKN,GAEpB,WACLe,EAAMkB,UACNJ,EAAUI,aAIC,IAGb,6BACE,6CACiB,8CAEjB,kBAACC,EAAD,CAAWlC,OAAQA,EAAQH,MAAM,QChCxB,aACb,IAAMG,EAAS,KA0Bf,OAFAL,qBAtBA,WACE,IAAMoB,EAAQ,IAAID,EAEZqB,EAAQ,CAAC,KAAM,KAAM,KAAM,MAO3BN,EAAY,IAAIpE,EAAKqE,MAAK,SAAAC,GALjB,IAAAU,EAMb1B,EAAMiB,sBANOS,EAMqBN,GALdrE,KAAKyE,MAAMzE,KAAKC,SAAW0E,EAAMzC,SAKX,KAAM+B,KAC/C,MAIH,OAFAF,EAAUpB,MAAM,MAAMH,KAAKN,GAEpB,WACLe,EAAMkB,UACNJ,EAAUI,aAIC,IAGb,6BACE,+DACmC,mDADnC,KAGA,kBAACC,EAAD,CAAWlC,OAAQA,EAAQH,MAAM,QChCxB,aACb,IAAMG,EAAS,KA0Bf,OAFAL,qBAtBA,WACE,IAAM+C,EAAS,CAAC,IAAI/B,EAAgB,IAAIG,GAElCqB,EAAQ,CAAC,KAAM,KAAM,KAAM,MAE3BpE,EAAS,SAAA0E,GAEb,OAAOA,EADa3E,KAAKyE,MAAMzE,KAAKC,SAAW0E,EAAMzC,UAIjD6B,EAAY,IAAIpE,EAAKqE,MAAK,SAAAC,GAC9BhE,EAAO2E,GAAQV,qBAAqBjE,EAAOoE,GAAQ,KAAMJ,KACxD,MAIH,OAFAF,EAAUpB,MAAM,MAAMH,KAAKN,GAEpB,WACL0C,EAAOC,SAAQ,SAAA5B,GAAK,OAAIA,EAAMkB,aAC9BJ,EAAUI,aAIC,IAGb,6BACE,6DACiC,uCADjC,sBAGA,kBAACC,EAAD,CAAWlC,OAAQA,EAAQH,MAAM,QC/BnC+C,EAAO,CACTC,EAAG,CAAC,EAAG,GACPC,EAAG,CAAC,EAAG,GACPC,EAAG,CAAC,EAAG,GACPC,EAAG,CAAC,EAAG,GACPC,EAAG,CAAC,EAAG,GACPC,EAAG,CAAC,EAAG,GACPC,EAAG,CAAC,EAAG,EAAG,EAAG,GACbC,EAAG,CAAC,EAAG,GACPC,GAAI,CAAC,GAAI,GACTC,GAAI,CAAC,GAAI,GACTC,GAAI,CAAC,GAAI,GAAI,GAAI,GACjBC,GAAI,CAAC,GAAI,GAAI,GAAI,GACjBC,GAAI,CAAC,GAAI,GAAI,GAAI,GACjBC,GAAI,CAAC,GAAI,IACTC,GAAI,CAAC,GAAI,GAAI,GAAI,IACjBC,GAAI,CAAC,GAAI,IACTC,GAAI,CAAC,GAAI,IACTC,GAAI,CAAC,GAAI,GAAI,GAAI,IACjBC,GAAI,CAAC,GAAI,IACTC,GAAI,CAAC,GAAI,IACTC,GAAI,CAAC,GAAI,IACTC,GAAI,CAAC,GAAI,IACTC,GAAI,CAAC,GAAI,GAAI,GAAI,IACjBC,GAAI,CAAC,GAAI,IACTC,GAAI,CAAC,GAAI,EAAG,EAAG,GACfC,GAAI,CAAC,GAAI,EAAG,EAAG,GACfC,GAAI,CAAC,GAAI,IACTC,GAAI,CAAC,GAAI,IACTC,GAAI,CAAC,GAAI,EAAG,EAAG,GACfC,GAAI,CAAC,GAAI,KAyCX,SAASC,EAAKC,EAAGC,GACfC,KAAKF,EAAIA,GAAKE,KAAKC,eACnBD,KAAKE,KAAOpC,EAAKkC,KAAKF,GACtBC,IAASA,EAAOC,KAAKG,aAAaH,KAAKF,IAGvC,IAAIM,EAAOC,SAASC,MAAMN,KAAKF,EAAI,GAAGS,KAAK,KAAM,GACjDP,KAAKQ,SAAWT,EAAOK,EAGzBP,EAAKY,UAAY,CACf3C,KAAMA,EACNmC,eAAgB,GAChB1C,MAAO,WACL,IACEmD,EADEC,EAAUX,KAAKE,KAAKhF,OAEtB0F,EAAMZ,KAAKQ,UAAaR,KAAKF,EAAIE,KAAKE,KAAK,GAC7C,IAAKQ,EAAI,EAAGA,EAAIC,EAASD,IACvBE,GAAaZ,KAAKQ,UAAaR,KAAKF,EAAIE,KAAKE,KAAKQ,GAIpD,OAFAE,GAAY,EACZZ,KAAKQ,SAAYR,KAAKQ,UAAY,EAAMI,GAAQZ,KAAKF,EAAI,EAC5C,EAANc,GAKTC,IAAK,SAASf,GAEZ,IADA,IAAIe,EAAM,EACDH,EAAI,EAAGA,EAAIZ,EAAGY,IACrBG,EAAOA,GAAO,EAAKb,KAAKzC,QAE1B,OAAOsD,GAKTC,UAAW,SAAShB,GAElB,IADA,IAAIe,EAAM,GACDH,EAAI,EAAGA,EAAIZ,EAAGY,IACrBG,GAAOb,KAAKzC,QAEd,OAAOsD,GAKTE,UAAW,WACT,IAAIC,EAAehB,KAAKQ,SACtBS,EAAU,EACZ,GACEjB,KAAKzC,QACL0D,UACOD,IAAiBhB,KAAKQ,UAC/B,OAAOS,GAMTd,aAAc,SAASL,GACrB,IAAKA,EAAG,MAAM,IAAIoB,MAAM,iBAExB,OADW,IAAIrB,EAAK,EAAG,OACXgB,IAAIf,KAILD,QC1IA,aACb,IAAM3E,EAAS,KAEf,SAASiG,EAASpB,GAChB,IAAMqB,EAAUf,SAASN,EAAM,GAC/B,OAAO,IAAIF,EAAKE,EAAK7E,OAAQkG,GAkC/B,OAFAvG,qBA7BA,WACE,IAAM+C,EAAS,CAAC,IAAI/B,EAAgB,IAAIG,EAAc,IAAIK,GACpDgF,EAAaF,EAAS,QAEtB9D,EAAQ,CAAC,KAAM,KAAM,KAAM,MAC3BiE,EAAYH,EAAS,QAErBI,EAAS,SAACC,EAAM7D,GAGpB,OAFA6D,EAAKjE,QAEEI,EADO6D,EAAKhB,SAAW7C,EAAMzC,SAIhC6B,EAAY,IAAIpE,EAAKqE,MAAK,SAAAC,GAC9BsE,EAAOF,EAAYzD,GAAQV,qBACzBqE,EAAOD,EAAWjE,GAClB,KACAJ,KAED,MAIH,OAFAF,EAAUpB,MAAM,MAAMH,KAAKN,GAEpB,WACL0C,EAAOC,SAAQ,SAAA5B,GAAK,OAAIA,EAAMkB,aAC9BJ,EAAUI,aAIC,IAGb,6BACE,6CACiB,qDADjB,UAC2D,IACzD,yCAFF,qBAGE,0BAAMsE,aAAW,gBAAgBC,KAAK,OAAtC,gBAHF,OAQA,kBAACtE,EAAD,CAAWlC,OAAQA,EAAQH,MAAM,Q,OCvDjC4G,EAAc,SAAAC,GAClB,IAuCMtG,EAvCS,sCAuCMuG,KAAKD,GACpBE,EAAQxG,EAAM,GACdyG,EAASzG,EAAM,GAErB,MA1CyB,CACvB0G,KAAM,EACNC,IAAK,EACLC,EAAG,EACH,KAAM,EACNC,GAAI,EACJC,IAAK,EACLC,GAAI,EACJC,EAAG,EACH,KAAM,EACNC,GAAI,EACJC,IAAK,EACLC,GAAI,EACJC,EAAG,EACH,KAAM,EACNC,GAAI,EACJC,IAAK,EACLC,GAAI,EACJC,EAAG,EACH,KAAM,EACNC,GAAI,EACJC,IAAK,EACLC,GAAI,EACJC,EAAG,EACH,KAAM,EACNC,GAAI,EACJC,IAAK,EACLC,GAAI,EACJjK,EAAG,EACH,KAAM,GACNkK,GAAI,GACJC,IAAK,EACLC,GAAI,GACJC,EAAG,GACH,KAAM,GACNC,GAAI,IAMyB5B,EAAM6B,eACO,IAA5BtD,SAAS0B,EAAQ,IAAM,ICrC1B,aACb,IAAM7G,EAAS,KAEf,SAASiG,EAASpB,GAChB,IAAMqB,EAAUf,SAASN,EAAM,GAC/B,OAAO,IAAIF,EAAKE,EAAK7E,OAAQkG,GAG/B,IAAMwC,EAAa,SAAAC,GAAI,MACrB,CAAC,EAAG,EAAG,GAAGC,KAAI,SAAAC,GAAI,OAAIpL,EAAKqL,UAAUrC,EAAYkC,GAAQE,EAAM,YAiCjE,OAFAlJ,qBA7BA,WACE,IAAM+C,EAAS,CAAC,IAAI/B,EAAgB,IAAIG,EAAc,IAAIK,GACpDgF,EAAaF,EAAS,QAEtB9D,EAAK,sBAAOuG,EAAW,OAAlB,YAA4BA,EAAW,QAC5CtC,EAAYH,EAAS,QAErBI,EAAS,SAACC,EAAM7D,GAGpB,OAFA6D,EAAKjE,QAEEI,EADO6D,EAAKhB,SAAW7C,EAAMzC,SAIhC6B,EAAY,IAAIpE,EAAKqE,MAAK,SAAAC,GAC9BsE,EAAOF,EAAYzD,GAAQV,qBACzBqE,EAAOD,EAAWjE,GAClB,KACAJ,KAED,MAIH,OAFAF,EAAUpB,MAAM,MAAMH,KAAKN,GAEpB,WACL0C,EAAOC,SAAQ,SAAA5B,GAAK,OAAIA,EAAMkB,aAC9BJ,EAAUI,aAIC,IAGb,6BACE,2BACE,yDADF,wDAIA,kBAACC,EAAD,CAAWlC,OAAQA,EAAQH,MAAM,QChDxB,aACb,IAAMG,EAAS,KAEf,SAASiG,EAASpB,GAChB,IAAMqB,EAAUf,SAASN,EAAM,GAC/B,OAAO,IAAIF,EAAKE,EAAK7E,OAAQkG,GAG/B,IAAMwC,EAAa,SAAAC,GAAI,MACrB,CAAC,EAAG,EAAG,GAAGC,KAAI,SAAAC,GAAI,OAAIpL,EAAKqL,UAAUrC,EAAYkC,GAAQE,EAAM,YAiCjE,OAFAlJ,qBA7BA,WACE,IAAM+C,EAAS,CAAC,IAAI/B,EAAgB,IAAIG,EAAc,IAAIK,GACpDgF,EAAaF,EAAS,QAEtB9D,EAAK,sBAAOuG,EAAW,OAAlB,YAA4BA,EAAW,QAC5CtC,EAAYH,EAAS,QAErBI,EAAS,SAACC,EAAM7D,EAAOsG,GAG3B,OAFAzC,EAAKjE,QAEEI,EADO6D,EAAKhB,UAAY7C,EAAMzC,QAAU+I,GAAc,MAIzDlH,EAAY,IAAIpE,EAAKqE,MAAK,SAAAC,GAC9B,IAAMhB,EAAQsF,EAAOF,EAAYzD,EAAQ,GAErC3B,GACFA,EAAMiB,qBAAqBqE,EAAOD,EAAWjE,GAAQ,KAAMJ,KAE5D,MAIH,OAFAF,EAAUpB,MAAM,MAAMH,KAAKN,GAEpB,WACL0C,EAAOC,SAAQ,SAAA5B,GAAK,OAAIA,EAAMkB,aAC9BJ,EAAUI,aAIC,IAGb,6BACE,oDACwB,8CADxB,wDAIA,kBAACC,EAAD,CAAWlC,OAAQA,EAAQH,MAAM,QChDxB,aACb,IAAMG,EAAS,KAEf,SAASgJ,IACP,OAAO,IAAIvL,EAAKwL,eAAgBpI,WAGlC,SAASqI,IACP,OAAO,IAAIzL,EAAK0L,YAAatI,WAG/B,SAASuI,IACP,IAAMC,GAAM,IAAI5L,EAAK6L,YAAazI,WAElC,OADAwI,EAAIpI,OAAOC,OAAS,GACbmI,EAGT,SAASpD,EAASpB,GAChB,IAAMqB,EAAUf,SAASN,EAAM,GAC/B,OAAO,IAAIF,EAAKE,EAAK7E,OAAQkG,GAG/B,IAAMwC,EAAa,SAAAC,GAAI,MACrB,CAAC,EAAG,EAAG,GAAGC,KAAI,SAAAC,GAAI,OAAIpL,EAAKqL,UAAUrC,EAAYkC,GAAQE,EAAM,YAE3DU,EAAW,SAAAC,GAAC,OAAI1L,KAAKC,SAAWyL,GAAK,EAAIA,IAqD/C,OAFA7J,qBAjDA,WACE,IAAM+C,EAAS,CAAC,IAAI/B,EAAgB,IAAIG,EAAc,IAAIK,GACpDgF,EAAaF,EAAS,UAEtBwD,EAAQ,CAAC,IAAIT,EAAY,IAAIE,EAAa,IAAIE,GAC9CM,EAAa,CACjB,SAAAC,GAAC,OAAIF,EAAM,GAAGzH,qBAAqB,KAAM,KAAM2H,EAAGJ,EAAS,OAC3D,SAAAI,GAAC,OAAIF,EAAM,GAAGzH,qBAAqB,KAAM2H,EAAGJ,EAAS,OACrD,SAAAI,GAAC,OAAIF,EAAM,GAAGzH,qBAAqB,KAAM2H,EAAGJ,EAAS,OAEjDK,EAAiB3D,EAAS,UAE1B9D,EAAK,sBAAOuG,EAAW,OAAlB,YAA4BA,EAAW,QAC5CtC,EAAYH,EAAS,UAErBI,EAAS,SAACC,EAAM7D,EAAOsG,GAG3B,OAFAzC,EAAKjE,QAEEI,EADO6D,EAAKhB,UAAY7C,EAAMzC,QAAU+I,GAAc,MAIzDlH,EAAY,IAAIpE,EAAKqE,MAAK,SAAAC,GAC9B,IAAMhB,EAAQsF,EAAOF,EAAYzD,EAAQ,GAErC3B,GACFA,EAAMiB,qBAAqBqE,EAAOD,EAAWjE,GAAQ,KAAMJ,KAE5D,MAEHF,EAAUpB,MAAM,MAAMH,KAAKN,GAE3B,IAAM6J,EAAW,IAAIpM,EAAKqE,MAAK,SAAAC,GAC7B,IAAM+H,EAAMzD,EAAOuD,EAAgBF,EAAY,GAE3CI,GACFA,EAAI/H,KAEL,MAIH,OAFA8H,EAASpJ,MAAM,MAAMH,KAAKN,GAEnB,WACL0C,EAAOC,SAAQ,SAAA5B,GAAK,OAAIA,EAAMkB,aAC9BwH,EAAM9G,SAAQ,SAAAoH,GAAI,OAAIA,EAAK9H,aAC3BJ,EAAUI,UACV4H,EAAS5H,aAIE,IAGb,6BACE,sHAEuB,2DAFvB,KAIA,kBAACC,EAAD,CAAWlC,OAAQA,EAAQH,MAAM,QCpFxB,aACb,IAAMG,EAAS,KAEf,SAASgJ,IACP,OAAO,IAAIvL,EAAKwL,eAAgBpI,WAGlC,SAASqI,IACP,OAAO,IAAIzL,EAAK0L,YAAatI,WAG/B,SAASuI,IACP,IAAMC,GAAM,IAAI5L,EAAK6L,YAAazI,WAElC,OADAwI,EAAIpI,OAAOC,OAAS,GACbmI,EAGT,SAASpD,EAASpB,GAChB,IAAMqB,EAAUf,SAASN,EAAM,GAC/B,OAAO,IAAIF,EAAKE,EAAK7E,OAAQkG,GAG/B,IAAMwC,EAAa,SAAAC,GAAI,MACrB,CAAC,EAAG,EAAG,GAAGC,KAAI,SAAAC,GAAI,OAAIpL,EAAKqL,UAAUrC,EAAYkC,GAAQE,EAAM,YAE3DU,EAAW,SAAAC,GAAC,OAAI1L,KAAKC,SAAWyL,GAAK,EAAIA,IAqD/C,OAFA7J,qBAjDA,WACE,IAAM+C,EAAS,CAAC,IAAI/B,EAAgB,IAAIG,EAAc,IAAIK,GACpDgF,EAAaF,EAAS,QAEtBwD,EAAQ,CAAC,IAAIT,EAAY,IAAIE,EAAa,IAAIE,GAC9CM,EAAa,CACjB,SAAAC,GAAC,OAAIF,EAAM,GAAGzH,qBAAqB,KAAM,KAAM2H,EAAGJ,EAAS,OAC3D,SAAAI,GAAC,OAAIF,EAAM,GAAGzH,qBAAqB,KAAM2H,EAAGJ,EAAS,OACrD,SAAAI,GAAC,OAAIF,EAAM,GAAGzH,qBAAqB,KAAM2H,EAAGJ,EAAS,OAEjDK,EAAiB3D,EAAS,QAE1B9D,EAAK,sBAAOuG,EAAW,OAAlB,YAA4BA,EAAW,QAC5CtC,EAAYH,EAAS,QAErBI,EAAS,SAACC,EAAM7D,EAAOsG,GAG3B,OAFAzC,EAAKjE,QAEEI,EADO6D,EAAKhB,UAAY7C,EAAMzC,QAAU+I,GAAc,MAIzDlH,EAAY,IAAIpE,EAAKqE,MAAK,SAAAC,GAC9B,IAAMhB,EAAQsF,EAAOF,EAAYzD,EAAQ,GAErC3B,GACFA,EAAMiB,qBAAqBqE,EAAOD,EAAWjE,GAAQ,KAAMJ,KAE5D,MAEHF,EAAUpB,MAAM,MAAMH,KAAKN,GAE3B,IAAM6J,EAAW,IAAIpM,EAAKqE,MAAK,SAAAC,GAC7B,IAAM+H,EAAMzD,EAAOuD,EAAgBF,EAAY,GAE3CI,GACFA,EAAI/H,KAEL,MAIH,OAFA8H,EAASpJ,MAAM,MAAMH,KAAKN,GAEnB,WACL0C,EAAOC,SAAQ,SAAA5B,GAAK,OAAIA,EAAMkB,aAC9BwH,EAAM9G,SAAQ,SAAAoH,GAAI,OAAIA,EAAK9H,aAC3BJ,EAAUI,UACV4H,EAAS5H,aAIE,IAGb,6BACE,mJAEqD,IACnD,yEAHF,KAKA,kBAACC,EAAD,CAAWlC,OAAQA,EAAQH,MAAM,SC5F1BmK,EAAU,IACVC,EAAY,aACZC,EAAY,aACZC,EAAY,aACZC,EAAY,aACZC,EAAY,aACZC,EAAY,aACZC,EAAY,aACZC,EAAY,aACZC,EAAY,aACZC,EAAa,c,MCiFXC,MA1Ef,SAAaC,GAAQ,IAAD,EACkBtL,mBACX,cAAvB7B,EAAKoN,QAAQC,OAFG,mBACXC,EADW,KACCC,EADD,KASlB,OAAKD,EAKH,0BAAMxK,UAAU,OACd,yBAAKA,UAAU,UACb,uBAAG0K,KAAK,sCAAR,gBAEF,gEACA,6BACA,kBAAC,IAAD,CAAYC,SAAS,KACnB,yBAAK3K,UAAU,eACb,kBAAC,IAAD,CAAS4K,GAAIC,EAAkBC,gBAAgB,UAA/C,KAGA,kBAAC,IAAD,CAASF,GAAIC,EAAkBC,gBAAgB,UAA/C,KAGA,kBAAC,IAAD,CAASF,GAAIC,EAAkBC,gBAAgB,UAA/C,KAGA,kBAAC,IAAD,CAASF,GAAIC,EAAkBC,gBAAgB,UAA/C,KAGA,kBAAC,IAAD,CAASF,GAAIC,EAAkBC,gBAAgB,UAA/C,KAGA,kBAAC,IAAD,CAASF,GAAIC,EAAkBC,gBAAgB,UAA/C,KAGA,kBAAC,IAAD,CAASF,GAAIC,EAAkBC,gBAAgB,UAA/C,KAGA,kBAAC,IAAD,CAASF,GAAIC,EAAkBC,gBAAgB,UAA/C,KAGA,kBAAC,IAAD,CAASF,GAAIC,EAAkBC,gBAAgB,UAA/C,KAGA,kBAAC,IAAD,CAASF,GAAIC,EAAmBC,gBAAgB,UAAhD,OAIF,6BACA,6BAAS9K,UAAU,iBACjB,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAO+K,OAAK,EAACC,KAAMH,EAAgBI,UAAWC,IAC9C,kBAAC,IAAD,CAAOF,KAAMH,EAAkBI,UAAWE,IAC1C,kBAAC,IAAD,CAAOH,KAAMH,EAAkBI,UAAWG,IAC1C,kBAAC,IAAD,CAAOJ,KAAMH,EAAkBI,UAAWI,IAC1C,kBAAC,IAAD,CAAOL,KAAMH,EAAkBI,UAAWK,IAC1C,kBAAC,IAAD,CAAON,KAAMH,EAAkBI,UAAWM,IAC1C,kBAAC,IAAD,CAAOP,KAAMH,EAAkBI,UAAWO,IAC1C,kBAAC,IAAD,CAAOR,KAAMH,EAAkBI,UAAWQ,IAC1C,kBAAC,IAAD,CAAOT,KAAMH,EAAkBI,UAAWS,IAC1C,kBAAC,IAAD,CAAOV,KAAMH,EAAkBI,UAAWU,IAC1C,kBAAC,IAAD,CAAOX,KAAMH,EAAmBI,UAAWW,QAxD5C,4BAAQ3L,QALE,WACjB/C,EAAKgD,QAAQ2L,MAAK,kBAAMpB,GAAc,QAI/B,iCCfSqB,QACW,cAA7BnN,OAAOoN,SAASC,UAEe,UAA7BrN,OAAOoN,SAASC,UAEhBrN,OAAOoN,SAASC,SAASC,MACvB,2DCZNC,IAASC,OAAO,kBAAC,EAAD,MAASC,SAASC,eAAe,SD6H3C,kBAAmBC,WACrBA,UAAUC,cAAcC,MAAMX,MAAK,SAAAY,GACjCA,EAAaC,kB","file":"static/js/main.5855bc6a.chunk.js","sourcesContent":["import * as Tone from \"tone\";\nimport ToneContext from \"./context\";\n\nexport default Tone;\nexport { ToneContext };\n","import React from \"react\";\n\nexport default React.createContext(null);\n","import React from \"react\";\n\nexport default function() {\n  return (\n    <p>\n      This app demonstrates proceedural music generation. A song invented on the\n      fly. It begins with a series of monotonous beeps, and grows into something\n      resembling music. Written in Javascript using simple algorithms and\n      elementary music theory.\n    </p>\n  );\n}\n","const appId = \"tensteps\";\nconst sessionId = `${Math.random() * 99999}`;\n\nasync function postData(url = \"\", data = {}) {\n  // Default options are marked with *\n  return fetch(url, {\n    method: \"POST\", // *GET, POST, PUT, DELETE, etc.\n    mode: \"no-cors\", // no-cors, *cors, same-origin\n    cache: \"no-cache\", // *default, no-cache, reload, force-cache, only-if-cached\n    credentials: \"same-origin\", // include, *same-origin, omit\n    headers: {\n      \"Content-Type\": \"application/json\"\n    },\n    redirect: \"follow\", // manual, *follow, error\n    referrerPolicy: \"no-referrer\", // no-referrer, *client\n    body: JSON.stringify(data) // body data type must match \"Content-Type\" header\n  });\n}\n\nwindow.addEventListener(\"beforeunload\", () => {\n  reportMetric({ type: \"appUnload\" });\n});\n\nfunction reportMetric(data) {\n  postData(process.env.REACT_APP_METRICS_ENDPOINT, {\n    ...data,\n    appId,\n    sessionId\n  });\n}\n\nexport default reportMetric;\n","import React, { useState, useEffect } from \"react\";\nimport * as Tone from \"tone\";\nimport \"./style.css\";\nimport reportMetric from \"../Metrics\";\n\nexport default function(params) {\n  const [playing, setPlaying] = useState(false);\n  const [position, setPosition] = useState(Tone.Transport.position);\n\n  useEffect(() => {\n    reportMetric({ example: params.label, action: \"load\" });\n  }, [params.label]);\n\n  useEffect(() => {\n    Tone.Transport.position = 0;\n    Tone.Transport.setLoopPoints(0, params.length);\n    Tone.Transport.loop = true;\n  }, [params.length]);\n\n  const play = () => {\n    reportMetric({ example: params.label, action: \"play\" });\n    Tone.Transport.start();\n    setPlaying(true);\n  };\n\n  const stop = () => {\n    reportMetric({ example: params.label, action: \"stop\" });\n    Tone.Transport.stop();\n    setPlaying(false);\n  };\n\n  const handleLoop = () => {\n    reportMetric({ example: params.label, action: \"play\" });\n    setPlaying(true);\n    Tone.Transport.start();\n  };\n\n  useEffect(() => {\n    const id = Tone.Transport.scheduleRepeat(\n      () => {\n        setPosition(Tone.Transport.position.split(\".\")[0]);\n      },\n      \"128n\",\n      \"0m\"\n    );\n    return () => {\n      Tone.Transport.clear(id);\n      Tone.Transport.stop();\n      reportMetric({ example: params.label, action: \"left\" });\n    };\n  }, [params.label]);\n\n  return (\n    <div className=\"transport\">\n      <div className=\"display\">{position}</div>\n      <div className=\"controls\">\n        <button className=\"play\" onClick={play} disabled={playing}>\n          play\n        </button>\n        <button className=\"loop\" onClick={handleLoop} disabled={playing}>\n          play\n        </button>\n        <button onClick={stop} disabled={!playing}>\n          stop\n        </button>\n      </div>\n    </div>\n  );\n}\n","import Tone from \"../Tone\";\n\nexport function DefaultSynth() {\n  return new Tone.Synth().toMaster();\n}\n\nexport function PulseSynth() {\n  const synth = new Tone.Synth({\n    oscillator: {\n      type: \"square4\"\n    }\n  }).toMaster();\n  synth.volume.value = -10;\n  return synth;\n}\n\nexport function BetterSynth() {\n  var synth = new Tone.Synth({\n    oscillator: {\n      type: \"amtriangle\",\n      harmonicity: 0.5,\n      modulationType: \"sine\"\n    },\n    envelope: {\n      attackCurve: \"exponential\",\n      attack: 0.05,\n      decay: 0.2,\n      sustain: 0.2,\n      release: 1.5\n    },\n    portamento: 0.025\n  }).toMaster();\n  return synth;\n}\n","import React, { useEffect } from \"react\";\nimport Transport from \"../Transport\";\nimport Tone from \"../Tone\";\nimport { DefaultSynth } from \"../Synths\";\n\nexport default function() {\n  const length = \"1m\";\n\n  function run() {\n    const synth = new DefaultSynth();\n\n    const synthLoop = new Tone.Loop(time => {\n      synth.triggerAttackRelease(\"C4\", \"4n\", time);\n    }, \"4n\");\n\n    synthLoop.start(\"0m\").stop(\"1m\");\n\n    return () => {\n      synth.dispose();\n      synthLoop.dispose();\n    };\n  }\n\n  useEffect(run, []);\n\n  return (\n    <div>\n      <p>\n        Beep beep beep beep<strong>...</strong>\n      </p>\n      <Transport length={length} label=\"1\" />\n    </div>\n  );\n}\n","import React, { useEffect } from \"react\";\nimport Transport from \"../Transport\";\nimport Tone from \"../Tone\";\nimport { DefaultSynth } from \"../Synths\";\n\nexport default function() {\n  const length = \"1m\";\n\n  function run() {\n    const synth = new DefaultSynth();\n\n    const notes = [\"C4\", \"D4\", \"E4\", \"F4\"];\n    const nextNote = () => notes[notes.push(notes.shift()) - 1];\n\n    const synthLoop = new Tone.Loop(time => {\n      synth.triggerAttackRelease(nextNote(), \"4n\", time);\n    }, \"4n\");\n\n    synthLoop.start(\"0m\").stop(\"1m\");\n\n    return () => {\n      synth.dispose();\n      synthLoop.dispose();\n    };\n  }\n\n  useEffect(run, []);\n\n  return (\n    <div>\n      <p>\n        <strong>Do re mi fa</strong>...\n      </p>\n      <Transport length={length} label=\"2\" />\n    </div>\n  );\n}\n","import React, { useEffect } from \"react\";\nimport Transport from \"../Transport\";\nimport Tone from \"../Tone\";\nimport { DefaultSynth } from \"../Synths\";\n\nexport default function() {\n  const length = \"1m\";\n\n  function run() {\n    const synth = new DefaultSynth();\n\n    const notes = [\"C4\", \"D4\", \"E4\", \"F4\"];\n\n    const randomNote = () => {\n      const randomIndex = Math.floor(Math.random() * notes.length);\n      return notes[randomIndex];\n    };\n\n    const synthLoop = new Tone.Loop(time => {\n      synth.triggerAttackRelease(randomNote(), \"4n\", time);\n    }, \"4n\");\n\n    synthLoop.start(\"0m\").stop(length);\n\n    return () => {\n      synth.dispose();\n      synthLoop.dispose();\n    };\n  }\n\n  useEffect(run, []);\n\n  return (\n    <div>\n      <p>\n        Do re mi fa... <strong>randomly.</strong>\n      </p>\n      <Transport length={length} label=\"3\" />\n    </div>\n  );\n}\n","import React, { useEffect } from \"react\";\nimport Transport from \"../Transport\";\nimport Tone from \"../Tone\";\nimport { PulseSynth } from \"../Synths\";\n\nexport default function() {\n  const length = \"1m\";\n\n  function run() {\n    const synth = new PulseSynth();\n\n    const notes = [\"C4\", \"D4\", \"E4\", \"F4\"];\n\n    const random = array => {\n      const randomIndex = Math.floor(Math.random() * array.length);\n      return array[randomIndex];\n    };\n\n    const synthLoop = new Tone.Loop(time => {\n      synth.triggerAttackRelease(random(notes), \"4n\", time);\n    }, \"4n\");\n\n    synthLoop.start(\"0m\").stop(length);\n\n    return () => {\n      synth.dispose();\n      synthLoop.dispose();\n    };\n  }\n\n  useEffect(run, []);\n\n  return (\n    <div>\n      <p>\n        Do re mi fa... randomly, using a <strong>different synth</strong>.\n      </p>\n      <Transport length={length} label=\"4\" />\n    </div>\n  );\n}\n","import React, { useEffect } from \"react\";\nimport Transport from \"../Transport\";\nimport Tone from \"../Tone\";\nimport { DefaultSynth, PulseSynth } from \"../Synths\";\n\nexport default function() {\n  const length = \"1m\";\n\n  function run() {\n    const synths = [new DefaultSynth(), new PulseSynth()];\n\n    const notes = [\"C4\", \"D4\", \"E4\", \"F4\"];\n\n    const random = array => {\n      const randomIndex = Math.floor(Math.random() * array.length);\n      return array[randomIndex];\n    };\n\n    const synthLoop = new Tone.Loop(time => {\n      random(synths).triggerAttackRelease(random(notes), \"4n\", time);\n    }, \"4n\");\n\n    synthLoop.start(\"0m\").stop(length);\n\n    return () => {\n      synths.forEach(synth => synth.dispose());\n      synthLoop.dispose();\n    };\n  }\n\n  useEffect(run, []);\n\n  return (\n    <div>\n      <p>\n        Do re mi fa... randomly, using <strong>two</strong> different synths.\n      </p>\n      <Transport length={length} label=\"5\" />\n    </div>\n  );\n}\n","// https://github.com/aaronabramov/lfsr/blob/master/index.js\n//\n// Max-length feedback polynomials for shift register\n// e.g.\n// N=19\n// x^19 + x^18 + x^17 + x^15 + 1 will give max length sequence of 524287\nvar TAPS = {\n  2: [2, 1], // 3\n  3: [3, 2], // 7\n  4: [4, 3], // 15\n  5: [5, 3], // 31\n  6: [6, 5], // 63\n  7: [7, 6], // 127\n  8: [8, 6, 5, 4], // 255\n  9: [9, 5], // 511\n  10: [10, 7], // 1023\n  11: [11, 9], // 2027\n  12: [12, 11, 10, 4], // 4095\n  13: [13, 12, 11, 8], // 8191\n  14: [14, 13, 12, 2], // 16383\n  15: [15, 14], // 32767\n  16: [16, 14, 13, 11], // 65535\n  17: [17, 14], // 131071\n  18: [18, 11], // 262143\n  19: [19, 18, 17, 14], // 524287\n  20: [20, 17],\n  21: [21, 19],\n  22: [22, 21],\n  23: [23, 18],\n  24: [24, 23, 22, 17],\n  25: [25, 22],\n  26: [26, 6, 2, 1],\n  27: [27, 5, 2, 1],\n  28: [28, 25],\n  29: [29, 27],\n  30: [30, 6, 4, 1],\n  31: [31, 28]\n  // Out of javascript integer range\n  // 32: [32, 22, 2, 1],\n  // 33: [33, 20],\n  // 34: [34, 27, 2, 1],\n  // 35: [35, 33],\n  // 36: [36, 25],\n  // 37: [37, 5, 4, 3, 2, 1],\n  // 38: [38, 6, 5, 1],\n  // 39: [39, 35],\n  // 40: [40, 38, 21, 19],\n  // 41: [41, 38],\n  // 42: [42, 41, 20, 19],\n  // 43: [43, 42, 38, 37],\n  // 44: [44, 43, 18, 17],\n  // 45: [45, 44, 42, 41],\n  // 46: [46, 45, 26, 25],\n  // 47: [47, 42],\n  // 48: [48, 47, 21, 20],\n  // 49: [49, 40],\n  // 50: [50, 49, 24, 23],\n  // 51: [51, 50, 36, 35],\n  // 52: [52, 49],\n  // 53: [53, 52, 38, 37],\n  // 54: [54, 53, 18, 17],\n  // 55: [55, 31],\n  // 56: [56, 55, 35, 34],\n  // 57: [57, 50],\n  // 58: [58, 39],\n  // 59: [59, 58, 38, 37],\n  // 60: [60, 59],\n  // 61: [61, 60, 46, 45],\n  // 62: [62, 61, 6, 5],\n  // 63: [63, 62],\n  // 64: [64, 63, 61, 60]\n};\n\n/**\n * @param {Number} [n] number of bits in the register\n * @param {Number} [seed] start state\n */\nfunction LFSR(n, seed) {\n  this.n = n || this.DEFAULT_LENGTH;\n  this.taps = TAPS[this.n];\n  seed || (seed = this._defaultSeed(this.n));\n\n  // Get last n bit from the seed if it's longer\n  var mask = parseInt(Array(this.n + 1).join(\"1\"), 2);\n  this.register = seed & mask;\n}\n\nLFSR.prototype = {\n  TAPS: TAPS,\n  DEFAULT_LENGTH: 31,\n  shift: function() {\n    var tapsNum = this.taps.length,\n      i,\n      bit = this.register >> (this.n - this.taps[0]);\n    for (i = 1; i < tapsNum; i++) {\n      bit = bit ^ (this.register >> (this.n - this.taps[i]));\n    }\n    bit = bit & 1;\n    this.register = (this.register >> 1) | (bit << (this.n - 1));\n    return bit & 1;\n  },\n  /**\n   * @return {Number} sequence of next n shifted bits from\n   */\n  seq: function(n) {\n    var seq = 0;\n    for (var i = 0; i < n; i++) {\n      seq = (seq << 1) | this.shift();\n    }\n    return seq;\n  },\n  /**\n   * @return {String} string representing binary sequence of n bits\n   */\n  seqString: function(n) {\n    var seq = \"\";\n    for (var i = 0; i < n; i++) {\n      seq += this.shift();\n    }\n    return seq;\n  },\n  /**\n   * @return {Number} number of shifts before initial state repeats\n   */\n  maxSeqLen: function() {\n    var initialState = this.register,\n      counter = 0;\n    do {\n      this.shift();\n      counter++;\n    } while (initialState !== this.register);\n    return counter;\n  },\n  /**\n   * @return {Number} number that is represented by sequence\n   * of 1 and 0\n   */\n  _defaultSeed: function(n) {\n    if (!n) throw new Error(\"n is required\");\n    var lfsr = new LFSR(8, 92914);\n    return lfsr.seq(n);\n  }\n};\n\nexport default LFSR;\n","import React, { useEffect } from \"react\";\nimport Transport from \"../Transport\";\nimport Tone from \"../Tone\";\nimport LFSR from \"../LFSR\";\nimport { DefaultSynth, PulseSynth, BetterSynth } from \"../Synths\";\n\nexport default function() {\n  const length = \"1m\";\n\n  function makeLFSR(seed) {\n    const initial = parseInt(seed, 2);\n    return new LFSR(seed.length, initial);\n  }\n\n  function run() {\n    const synths = [new DefaultSynth(), new PulseSynth(), new BetterSynth()];\n    const synthsLFSR = makeLFSR(\"1001\");\n\n    const notes = [\"C4\", \"D4\", \"E4\", \"F4\"];\n    const notesLFSR = makeLFSR(\"1001\");\n\n    const select = (lfsr, array) => {\n      lfsr.shift();\n      const index = lfsr.register % array.length;\n      return array[index];\n    };\n\n    const synthLoop = new Tone.Loop(time => {\n      select(synthsLFSR, synths).triggerAttackRelease(\n        select(notesLFSR, notes),\n        \"4n\",\n        time\n      );\n    }, \"4n\");\n\n    synthLoop.start(\"0m\").stop(length);\n\n    return () => {\n      synths.forEach(synth => synth.dispose());\n      synthLoop.dispose();\n    };\n  }\n\n  useEffect(run, []);\n\n  return (\n    <div>\n      <p>\n        Do re mi fa... <strong>deterministically</strong>, using{\" \"}\n        <strong>three</strong> different synths.\n        <span aria-label=\"musical notes\" role=\"img\">\n          &#127926;\n        </span>\n        ...\n      </p>\n      <Transport length={length} label=\"6\" />\n    </div>\n  );\n}\n","const PitchToMidi = note => {\n  const regexp = /^([a-g]{1}(?:b|#|x|bb)?)(-?[0-9]+)/i;\n  const noteToScaleIndex = {\n    cbb: -2,\n    cb: -1,\n    c: 0,\n    \"c#\": 1,\n    cx: 2,\n    dbb: 0,\n    db: 1,\n    d: 2,\n    \"d#\": 3,\n    dx: 4,\n    ebb: 2,\n    eb: 3,\n    e: 4,\n    \"e#\": 5,\n    ex: 6,\n    fbb: 3,\n    fb: 4,\n    f: 5,\n    \"f#\": 6,\n    fx: 7,\n    gbb: 5,\n    gb: 6,\n    g: 7,\n    \"g#\": 8,\n    gx: 9,\n    abb: 7,\n    ab: 8,\n    a: 9,\n    \"a#\": 10,\n    ax: 11,\n    bbb: 9,\n    bb: 10,\n    b: 11,\n    \"b#\": 12,\n    bx: 13\n  };\n\n  const split = regexp.exec(note);\n  const pitch = split[1];\n  const octave = split[2];\n  const index = noteToScaleIndex[pitch.toLowerCase()];\n  return index + (parseInt(octave, 10) + 1) * 12;\n};\n\nexport default {};\nexport { PitchToMidi };\n","import React, { useEffect } from \"react\";\nimport Transport from \"../Transport\";\nimport Tone from \"../Tone\";\nimport LFSR from \"../LFSR\";\nimport { DefaultSynth, PulseSynth, BetterSynth } from \"../Synths\";\nimport { PitchToMidi } from \"../MIDI\";\n\nexport default function() {\n  const length = \"1m\";\n\n  function makeLFSR(seed) {\n    const initial = parseInt(seed, 2);\n    return new LFSR(seed.length, initial);\n  }\n\n  const buildTriad = root =>\n    [0, 4, 7].map(semi => Tone.Frequency(PitchToMidi(root) + semi, \"midi\"));\n\n  function run() {\n    const synths = [new DefaultSynth(), new PulseSynth(), new BetterSynth()];\n    const synthsLFSR = makeLFSR(\"1001\");\n\n    const notes = [...buildTriad(\"C4\"), ...buildTriad(\"F4\")];\n    const notesLFSR = makeLFSR(\"1001\");\n\n    const select = (lfsr, array) => {\n      lfsr.shift();\n      const index = lfsr.register % array.length;\n      return array[index];\n    };\n\n    const synthLoop = new Tone.Loop(time => {\n      select(synthsLFSR, synths).triggerAttackRelease(\n        select(notesLFSR, notes),\n        \"4n\",\n        time\n      );\n    }, \"4n\");\n\n    synthLoop.start(\"0m\").stop(length);\n\n    return () => {\n      synths.forEach(synth => synth.dispose());\n      synthLoop.dispose();\n    };\n  }\n\n  useEffect(run, []);\n\n  return (\n    <div>\n      <p>\n        <strong>Six notes of I and IV</strong>... deterministically, using three\n        different synths.\n      </p>\n      <Transport length={length} label=\"7\" />\n    </div>\n  );\n}\n","import React, { useEffect } from \"react\";\nimport Transport from \"../Transport\";\nimport Tone from \"../Tone\";\nimport LFSR from \"../LFSR\";\nimport { PitchToMidi } from \"../MIDI\";\nimport { DefaultSynth, PulseSynth, BetterSynth } from \"../Synths\";\n\nexport default function() {\n  const length = \"1m\";\n\n  function makeLFSR(seed) {\n    const initial = parseInt(seed, 2);\n    return new LFSR(seed.length, initial);\n  }\n\n  const buildTriad = root =>\n    [0, 4, 7].map(semi => Tone.Frequency(PitchToMidi(root) + semi, \"midi\"));\n\n  function run() {\n    const synths = [new DefaultSynth(), new PulseSynth(), new BetterSynth()];\n    const synthsLFSR = makeLFSR(\"1001\");\n\n    const notes = [...buildTriad(\"C4\"), ...buildTriad(\"F4\")];\n    const notesLFSR = makeLFSR(\"1001\");\n\n    const select = (lfsr, array, skip) => {\n      lfsr.shift();\n      const index = lfsr.register % (array.length + (skip ? skip : 0));\n      return array[index];\n    };\n\n    const synthLoop = new Tone.Loop(time => {\n      const synth = select(synthsLFSR, synths, 1);\n\n      if (synth) {\n        synth.triggerAttackRelease(select(notesLFSR, notes), \"4n\", time);\n      }\n    }, \"4n\");\n\n    synthLoop.start(\"0m\").stop(length);\n\n    return () => {\n      synths.forEach(synth => synth.dispose());\n      synthLoop.dispose();\n    };\n  }\n\n  useEffect(run, []);\n\n  return (\n    <div>\n      <p>\n        Six notes of I and IV <strong>with rests</strong>... deterministically,\n        using three different synths.\n      </p>\n      <Transport length={length} label=\"8\" />\n    </div>\n  );\n}\n","import React, { useEffect } from \"react\";\nimport Transport from \"../Transport\";\nimport Tone from \"../Tone\";\nimport LFSR from \"../LFSR\";\nimport { PitchToMidi } from \"../MIDI\";\nimport { DefaultSynth, PulseSynth, BetterSynth } from \"../Synths\";\n\nexport default function() {\n  const length = \"1m\";\n\n  function KickDrum() {\n    return new Tone.MembraneSynth().toMaster();\n  }\n\n  function SnareDrum() {\n    return new Tone.NoiseSynth().toMaster();\n  }\n\n  function HatDrum() {\n    const hat = new Tone.MetalSynth().toMaster();\n    hat.volume.value = -20;\n    return hat;\n  }\n\n  function makeLFSR(seed) {\n    const initial = parseInt(seed, 2);\n    return new LFSR(seed.length, initial);\n  }\n\n  const buildTriad = root =>\n    [0, 4, 7].map(semi => Tone.Frequency(PitchToMidi(root) + semi, \"midi\"));\n\n  const velocity = v => Math.random() * v + (1 - v);\n\n  function run() {\n    const synths = [new DefaultSynth(), new PulseSynth(), new BetterSynth()];\n    const synthsLFSR = makeLFSR(\"100101\");\n\n    const drums = [new KickDrum(), new SnareDrum(), new HatDrum()];\n    const percussion = [\n      t => drums[0].triggerAttackRelease(\"C1\", \"4n\", t, velocity(0.25)),\n      t => drums[1].triggerAttackRelease(\"2n\", t, velocity(0.25)),\n      t => drums[2].triggerAttackRelease(\"8n\", t, velocity(0.5))\n    ];\n    const percussionLFSR = makeLFSR(\"100101\");\n\n    const notes = [...buildTriad(\"C4\"), ...buildTriad(\"F4\")];\n    const notesLFSR = makeLFSR(\"100101\");\n\n    const select = (lfsr, array, skip) => {\n      lfsr.shift();\n      const index = lfsr.register % (array.length + (skip ? skip : 0));\n      return array[index];\n    };\n\n    const synthLoop = new Tone.Loop(time => {\n      const synth = select(synthsLFSR, synths, 1);\n\n      if (synth) {\n        synth.triggerAttackRelease(select(notesLFSR, notes), \"4n\", time);\n      }\n    }, \"4n\");\n\n    synthLoop.start(\"0m\").stop(length);\n\n    const drumLoop = new Tone.Loop(time => {\n      const hit = select(percussionLFSR, percussion, 1);\n\n      if (hit) {\n        hit(time);\n      }\n    }, \"4n\");\n\n    drumLoop.start(\"0m\").stop(length);\n\n    return () => {\n      synths.forEach(synth => synth.dispose());\n      drums.forEach(drum => drum.dispose());\n      synthLoop.dispose();\n      drumLoop.dispose();\n    };\n  }\n\n  useEffect(run, []);\n\n  return (\n    <div>\n      <p>\n        Six notes of I and IV with rests... deterministically, using three\n        different synths and <strong>three percussion sounds</strong>.\n      </p>\n      <Transport length={length} label=\"9\" />\n    </div>\n  );\n}\n","import React, { useEffect } from \"react\";\nimport Transport from \"../Transport\";\nimport Tone from \"../Tone\";\nimport LFSR from \"../LFSR\";\nimport { PitchToMidi } from \"../MIDI\";\nimport { DefaultSynth, PulseSynth, BetterSynth } from \"../Synths\";\n\nexport default function() {\n  const length = \"1m\";\n\n  function KickDrum() {\n    return new Tone.MembraneSynth().toMaster();\n  }\n\n  function SnareDrum() {\n    return new Tone.NoiseSynth().toMaster();\n  }\n\n  function HatDrum() {\n    const hat = new Tone.MetalSynth().toMaster();\n    hat.volume.value = -20;\n    return hat;\n  }\n\n  function makeLFSR(seed) {\n    const initial = parseInt(seed, 2);\n    return new LFSR(seed.length, initial);\n  }\n\n  const buildTriad = root =>\n    [0, 4, 7].map(semi => Tone.Frequency(PitchToMidi(root) + semi, \"midi\"));\n\n  const velocity = v => Math.random() * v + (1 - v);\n\n  function run() {\n    const synths = [new DefaultSynth(), new PulseSynth(), new BetterSynth()];\n    const synthsLFSR = makeLFSR(\"1001\");\n\n    const drums = [new KickDrum(), new SnareDrum(), new HatDrum()];\n    const percussion = [\n      t => drums[0].triggerAttackRelease(\"C1\", \"4n\", t, velocity(0.25)),\n      t => drums[1].triggerAttackRelease(\"2n\", t, velocity(0.25)),\n      t => drums[2].triggerAttackRelease(\"8n\", t, velocity(0.5))\n    ];\n    const percussionLFSR = makeLFSR(\"1001\");\n\n    const notes = [...buildTriad(\"C4\"), ...buildTriad(\"F4\")];\n    const notesLFSR = makeLFSR(\"1001\");\n\n    const select = (lfsr, array, skip) => {\n      lfsr.shift();\n      const index = lfsr.register % (array.length + (skip ? skip : 0));\n      return array[index];\n    };\n\n    const synthLoop = new Tone.Loop(time => {\n      const synth = select(synthsLFSR, synths, 1);\n\n      if (synth) {\n        synth.triggerAttackRelease(select(notesLFSR, notes), \"4n\", time);\n      }\n    }, \"4n\");\n\n    synthLoop.start(\"0m\").stop(length);\n\n    const drumLoop = new Tone.Loop(time => {\n      const hit = select(percussionLFSR, percussion, 1);\n\n      if (hit) {\n        hit(time);\n      }\n    }, \"8n\");\n\n    drumLoop.start(\"0m\").stop(length);\n\n    return () => {\n      synths.forEach(synth => synth.dispose());\n      drums.forEach(drum => drum.dispose());\n      synthLoop.dispose();\n      drumLoop.dispose();\n    };\n  }\n\n  useEffect(run, []);\n\n  return (\n    <div>\n      <p>\n        Six notes of I and IV with rests... deterministically, using three\n        different synths and three percussion sounds, with{\" \"}\n        <strong>percussion played twice as frequently</strong>.\n      </p>\n      <Transport length={length} label=\"10\" />\n    </div>\n  );\n}\n","export const LANDING = \"/\";\nexport const EXAMPLE_1 = \"/example-1\";\nexport const EXAMPLE_2 = \"/example-2\";\nexport const EXAMPLE_3 = \"/example-3\";\nexport const EXAMPLE_4 = \"/example-4\";\nexport const EXAMPLE_5 = \"/example-5\";\nexport const EXAMPLE_6 = \"/example-6\";\nexport const EXAMPLE_7 = \"/example-7\";\nexport const EXAMPLE_8 = \"/example-8\";\nexport const EXAMPLE_9 = \"/example-9\";\nexport const EXAMPLE_10 = \"/example-10\";\n","import React, { useState } from \"react\";\nimport { HashRouter, Switch, Route, NavLink } from \"react-router-dom\";\nimport Tone from \"./components/Tone\";\nimport Landing from \"./components/Landing\";\nimport Example1 from \"./components/Example1\";\nimport Example2 from \"./components/Example2\";\nimport Example3 from \"./components/Example3\";\nimport Example4 from \"./components/Example4\";\nimport Example5 from \"./components/Example5\";\nimport Example6 from \"./components/Example6\";\nimport Example7 from \"./components/Example7\";\nimport Example8 from \"./components/Example8\";\nimport Example9 from \"./components/Example9\";\nimport Example10 from \"./components/Example10\";\nimport * as ROUTES from \"./constants/routes\";\nimport \"./App.css\";\n\nfunction App(props) {\n  const [authorized, setAuthorized] = useState(\n    Tone.context.state === \"suspended\"\n  );\n\n  const initialize = () => {\n    Tone.start().then(() => setAuthorized(true));\n  };\n\n  if (!authorized) {\n    return <button onClick={initialize}>click to permit AudioContext</button>;\n  }\n\n  return (\n    <main className=\"app\">\n      <div className=\"source\">\n        <a href=\"https://github.com/abrie/ten-steps\">source code</a>\n      </div>\n      <h1>Ten Steps to an Algorithmic Song</h1>\n      <hr />\n      <HashRouter basename=\"/\">\n        <nav className=\"examplesNav\">\n          <NavLink to={ROUTES.EXAMPLE_1} activeClassName=\"active\">\n            1\n          </NavLink>\n          <NavLink to={ROUTES.EXAMPLE_2} activeClassName=\"active\">\n            2\n          </NavLink>\n          <NavLink to={ROUTES.EXAMPLE_3} activeClassName=\"active\">\n            3\n          </NavLink>\n          <NavLink to={ROUTES.EXAMPLE_4} activeClassName=\"active\">\n            4\n          </NavLink>\n          <NavLink to={ROUTES.EXAMPLE_5} activeClassName=\"active\">\n            5\n          </NavLink>\n          <NavLink to={ROUTES.EXAMPLE_6} activeClassName=\"active\">\n            6\n          </NavLink>\n          <NavLink to={ROUTES.EXAMPLE_7} activeClassName=\"active\">\n            7\n          </NavLink>\n          <NavLink to={ROUTES.EXAMPLE_8} activeClassName=\"active\">\n            8\n          </NavLink>\n          <NavLink to={ROUTES.EXAMPLE_9} activeClassName=\"active\">\n            9\n          </NavLink>\n          <NavLink to={ROUTES.EXAMPLE_10} activeClassName=\"active\">\n            10\n          </NavLink>\n        </nav>\n        <hr />\n        <section className=\"activeExample\">\n          <Switch>\n            <Route exact path={ROUTES.LANDING} component={Landing} />\n            <Route path={ROUTES.EXAMPLE_1} component={Example1} />\n            <Route path={ROUTES.EXAMPLE_2} component={Example2} />\n            <Route path={ROUTES.EXAMPLE_3} component={Example3} />\n            <Route path={ROUTES.EXAMPLE_4} component={Example4} />\n            <Route path={ROUTES.EXAMPLE_5} component={Example5} />\n            <Route path={ROUTES.EXAMPLE_6} component={Example6} />\n            <Route path={ROUTES.EXAMPLE_7} component={Example7} />\n            <Route path={ROUTES.EXAMPLE_8} component={Example8} />\n            <Route path={ROUTES.EXAMPLE_9} component={Example9} />\n            <Route path={ROUTES.EXAMPLE_10} component={Example10} />\n          </Switch>\n        </section>\n      </HashRouter>\n    </main>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport * as serviceWorker from \"./serviceWorker\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}
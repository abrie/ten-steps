{"version":3,"sources":["components/Tone/index.js","components/Tone/context.js","components/Transport/index.js","components/Synths/index.js","components/Example1/index.js","components/Example2/index.js","components/Example3/index.js","components/Example4/index.js","components/Example5/index.js","components/LFSR/index.js","components/Example6/index.js","components/MIDI/index.js","components/Example7/index.js","components/Example8/index.js","components/Example9/index.js","components/Example10/index.js","constants/routes.js","App.js","serviceWorker.js","index.js"],"names":["Tone","React","createContext","params","useState","looping","setLooping","playing","setPlaying","position","setPosition","useEffect","setLoopPoints","length","loop","id","scheduleRepeat","split","clear","stop","className","onClick","start","disabled","DefaultSynth","Synth","toMaster","PulseSynth","synth","oscillator","type","volume","value","BetterSynth","harmonicity","modulationType","envelope","attackCurve","attack","decay","sustain","release","portamento","synthLoop","Loop","time","triggerAttackRelease","dispose","Transport","notes","shift","randomIndex","Math","floor","random","randomNote","array","synths","forEach","TAPS","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","LFSR","n","seed","this","DEFAULT_LENGTH","taps","_defaultSeed","mask","parseInt","Array","join","register","prototype","i","tapsNum","bit","seq","seqString","maxSeqLen","initialState","counter","Error","makeLFSR","initial","synthsLFSR","notesLFSR","select","lfsr","PitchToMidi","note","exec","pitch","octave","cbb","cb","c","cx","dbb","db","d","dx","ebb","eb","e","ex","fbb","fb","f","fx","gbb","gb","g","gx","abb","ab","a","ax","bbb","bb","b","bx","toLowerCase","buildTriad","root","map","semi","Frequency","skip","KickDrum","MembraneSynth","SnareDrum","NoiseSynth","HatDrum","hat","MetalSynth","velocity","v","drums","percussion","t","percussionLFSR","drumLoop","hit","drum","EXAMPLE_1","EXAMPLE_2","EXAMPLE_3","EXAMPLE_4","EXAMPLE_5","EXAMPLE_6","EXAMPLE_7","EXAMPLE_8","EXAMPLE_9","EXAMPLE_10","App","props","context","state","authorized","setAuthorized","basename","to","ROUTES","activeClassName","path","component","Example1","Example2","Example3","Example4","Example5","Example6","Example7","Example8","Example9","Example10","then","Boolean","window","location","hostname","match","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.817d0786.chunk.js","sourcesContent":["import * as Tone from \"tone\";\nimport ToneContext from \"./context\";\n\nexport default Tone;\nexport { ToneContext };\n","import React from \"react\";\n\nexport default React.createContext(null);\n","import React, { useState, useEffect } from \"react\";\nimport * as Tone from \"tone\";\nimport \"./style.css\";\n\nexport default function(params) {\n  const [looping, setLooping] = useState(false);\n  const [playing, setPlaying] = useState(false);\n  const [position, setPosition] = useState(Tone.Transport.position);\n\n  useEffect(() => {\n    Tone.Transport.position = 0;\n    Tone.Transport.setLoopPoints(0, params.length);\n    Tone.Transport.loop = looping;\n  }, [params.length, looping]);\n\n  useEffect(() => {\n    const id = Tone.Transport.scheduleRepeat(\n      () => {\n        setPosition(Tone.Transport.position.split(\".\")[0]);\n      },\n      \"128n\",\n      \"0m\"\n    );\n    return () => {\n      Tone.Transport.clear(id);\n      stop();\n    };\n  }, []);\n\n  const play = () => {\n    Tone.Transport.start();\n    setPlaying(true);\n  };\n\n  const stop = () => {\n    Tone.Transport.stop();\n    setPlaying(false);\n    setLooping(false);\n  };\n\n  const handleLoop = () => {\n    setLooping(true);\n    setPlaying(true);\n    Tone.Transport.start();\n  };\n\n  return (\n    <div className=\"transport\">\n      <div className=\"display\">{position}</div>\n      <div className=\"controls\">\n        <button className=\"play\" onClick={play} disabled={playing}>\n          play\n        </button>\n        <button className=\"loop\" onClick={handleLoop} disabled={playing}>\n          play\n        </button>\n        <button onClick={stop} disabled={!playing}>\n          stop\n        </button>\n      </div>\n    </div>\n  );\n}\n","import Tone from \"../Tone\";\n\nexport function DefaultSynth() {\n  return new Tone.Synth().toMaster();\n}\n\nexport function PulseSynth() {\n  const synth = new Tone.Synth({\n    oscillator: {\n      type: \"square4\"\n    }\n  }).toMaster();\n  synth.volume.value = -10;\n  return synth;\n}\n\nexport function BetterSynth() {\n  var synth = new Tone.Synth({\n    oscillator: {\n      type: \"amtriangle\",\n      harmonicity: 0.5,\n      modulationType: \"sine\"\n    },\n    envelope: {\n      attackCurve: \"exponential\",\n      attack: 0.05,\n      decay: 0.2,\n      sustain: 0.2,\n      release: 1.5\n    },\n    portamento: 0.025\n  }).toMaster();\n  return synth;\n}\n","import React, { useEffect } from \"react\";\nimport Transport from \"../Transport\";\nimport Tone from \"../Tone\";\nimport { DefaultSynth } from \"../Synths\";\n\nexport default function() {\n  const length = \"1m\";\n\n  function run() {\n    const synth = new DefaultSynth();\n\n    const synthLoop = new Tone.Loop(time => {\n      synth.triggerAttackRelease(\"C4\", \"4n\", time);\n    }, \"4n\");\n\n    synthLoop.start(\"0m\").stop(\"1m\");\n\n    return () => {\n      synth.dispose();\n      synthLoop.dispose();\n    };\n  }\n\n  useEffect(run, []);\n\n  return (\n    <div>\n      <p>Beep beep beep beep</p>\n      <Transport length={length} />\n    </div>\n  );\n}\n","import React, { useEffect } from \"react\";\nimport Transport from \"../Transport\";\nimport Tone from \"../Tone\";\nimport { DefaultSynth } from \"../Synths\";\n\nexport default function() {\n  const length = \"1m\";\n\n  function run() {\n    const synth = new DefaultSynth();\n\n    const notes = [\"C4\", \"D4\", \"E4\", \"F4\"];\n\n    const synthLoop = new Tone.Loop(time => {\n      synth.triggerAttackRelease(notes.shift(), \"4n\", time);\n    }, \"4n\");\n\n    synthLoop.start(\"0m\").stop(\"1m\");\n\n    return () => {\n      synth.dispose();\n      synthLoop.dispose();\n    };\n  }\n\n  useEffect(run, []);\n\n  return (\n    <div>\n      <p>Do re me fa</p>\n      <Transport length={length} />\n    </div>\n  );\n}\n","import React, { useEffect } from \"react\";\nimport Transport from \"../Transport\";\nimport Tone from \"../Tone\";\nimport { DefaultSynth } from \"../Synths\";\n\nexport default function() {\n  const length = \"1m\";\n\n  function run() {\n    const synth = new DefaultSynth();\n\n    const notes = [\"C4\", \"D4\", \"E4\", \"F4\"];\n\n    const randomNote = () => {\n      const randomIndex = Math.floor(Math.random() * notes.length);\n      return notes[randomIndex];\n    };\n\n    const synthLoop = new Tone.Loop(time => {\n      synth.triggerAttackRelease(randomNote(), \"4n\", time);\n    }, \"4n\");\n\n    synthLoop.start(\"0m\").stop(length);\n\n    return () => {\n      synth.dispose();\n      synthLoop.dispose();\n    };\n  }\n\n  useEffect(run, []);\n\n  return (\n    <div>\n      <p>Four Note Melody</p>\n      <Transport length={length} />\n    </div>\n  );\n}\n","import React, { useEffect } from \"react\";\nimport Transport from \"../Transport\";\nimport Tone from \"../Tone\";\nimport { PulseSynth } from \"../Synths\";\n\nexport default function() {\n  const length = \"1m\";\n\n  function run() {\n    const synth = new PulseSynth();\n\n    const notes = [\"C4\", \"D4\", \"E4\", \"F4\"];\n\n    const random = array => {\n      const randomIndex = Math.floor(Math.random() * array.length);\n      return array[randomIndex];\n    };\n\n    const synthLoop = new Tone.Loop(time => {\n      synth.triggerAttackRelease(random(notes), \"4n\", time);\n    }, \"4n\");\n\n    synthLoop.start(\"0m\").stop(length);\n\n    return () => {\n      synth.dispose();\n      synthLoop.dispose();\n    };\n  }\n\n  useEffect(run, []);\n\n  return (\n    <div>\n      <p>Same Four Notes, different oscillator.</p>\n      <Transport length={length} />\n    </div>\n  );\n}\n","import React, { useEffect } from \"react\";\nimport Transport from \"../Transport\";\nimport Tone from \"../Tone\";\nimport { DefaultSynth, PulseSynth } from \"../Synths\";\n\nexport default function() {\n  const length = \"1m\";\n\n  function run() {\n    const synths = [new DefaultSynth(), new PulseSynth()];\n\n    const notes = [\"C4\", \"D4\", \"E4\", \"F4\"];\n\n    const random = array => {\n      const randomIndex = Math.floor(Math.random() * array.length);\n      return array[randomIndex];\n    };\n\n    const synthLoop = new Tone.Loop(time => {\n      random(synths).triggerAttackRelease(random(notes), \"4n\", time);\n    }, \"4n\");\n\n    synthLoop.start(\"0m\").stop(length);\n\n    return () => {\n      synths.forEach(synth => synth.dispose());\n      synthLoop.dispose();\n    };\n  }\n\n  useEffect(run, []);\n\n  return (\n    <div>\n      <p>Four Notes and Two Oscillators.</p>\n      <Transport length={length} />\n    </div>\n  );\n}\n","// https://github.com/aaronabramov/lfsr/blob/master/index.js\n//\n// Max-length feedback polynomials for shift register\n// e.g.\n// N=19\n// x^19 + x^18 + x^17 + x^15 + 1 will give max length sequence of 524287\nvar TAPS = {\n  2: [2, 1], // 3\n  3: [3, 2], // 7\n  4: [4, 3], // 15\n  5: [5, 3], // 31\n  6: [6, 5], // 63\n  7: [7, 6], // 127\n  8: [8, 6, 5, 4], // 255\n  9: [9, 5], // 511\n  10: [10, 7], // 1023\n  11: [11, 9], // 2027\n  12: [12, 11, 10, 4], // 4095\n  13: [13, 12, 11, 8], // 8191\n  14: [14, 13, 12, 2], // 16383\n  15: [15, 14], // 32767\n  16: [16, 14, 13, 11], // 65535\n  17: [17, 14], // 131071\n  18: [18, 11], // 262143\n  19: [19, 18, 17, 14], // 524287\n  20: [20, 17],\n  21: [21, 19],\n  22: [22, 21],\n  23: [23, 18],\n  24: [24, 23, 22, 17],\n  25: [25, 22],\n  26: [26, 6, 2, 1],\n  27: [27, 5, 2, 1],\n  28: [28, 25],\n  29: [29, 27],\n  30: [30, 6, 4, 1],\n  31: [31, 28]\n  // Out of javascript integer range\n  // 32: [32, 22, 2, 1],\n  // 33: [33, 20],\n  // 34: [34, 27, 2, 1],\n  // 35: [35, 33],\n  // 36: [36, 25],\n  // 37: [37, 5, 4, 3, 2, 1],\n  // 38: [38, 6, 5, 1],\n  // 39: [39, 35],\n  // 40: [40, 38, 21, 19],\n  // 41: [41, 38],\n  // 42: [42, 41, 20, 19],\n  // 43: [43, 42, 38, 37],\n  // 44: [44, 43, 18, 17],\n  // 45: [45, 44, 42, 41],\n  // 46: [46, 45, 26, 25],\n  // 47: [47, 42],\n  // 48: [48, 47, 21, 20],\n  // 49: [49, 40],\n  // 50: [50, 49, 24, 23],\n  // 51: [51, 50, 36, 35],\n  // 52: [52, 49],\n  // 53: [53, 52, 38, 37],\n  // 54: [54, 53, 18, 17],\n  // 55: [55, 31],\n  // 56: [56, 55, 35, 34],\n  // 57: [57, 50],\n  // 58: [58, 39],\n  // 59: [59, 58, 38, 37],\n  // 60: [60, 59],\n  // 61: [61, 60, 46, 45],\n  // 62: [62, 61, 6, 5],\n  // 63: [63, 62],\n  // 64: [64, 63, 61, 60]\n};\n\n/**\n * @param {Number} [n] number of bits in the register\n * @param {Number} [seed] start state\n */\nfunction LFSR(n, seed) {\n  this.n = n || this.DEFAULT_LENGTH;\n  this.taps = TAPS[this.n];\n  seed || (seed = this._defaultSeed(this.n));\n\n  // Get last n bit from the seed if it's longer\n  var mask = parseInt(Array(this.n + 1).join(\"1\"), 2);\n  this.register = seed & mask;\n}\n\nLFSR.prototype = {\n  TAPS: TAPS,\n  DEFAULT_LENGTH: 31,\n  shift: function() {\n    var tapsNum = this.taps.length,\n      i,\n      bit = this.register >> (this.n - this.taps[0]);\n    for (i = 1; i < tapsNum; i++) {\n      bit = bit ^ (this.register >> (this.n - this.taps[i]));\n    }\n    bit = bit & 1;\n    this.register = (this.register >> 1) | (bit << (this.n - 1));\n    return bit & 1;\n  },\n  /**\n   * @return {Number} sequence of next n shifted bits from\n   */\n  seq: function(n) {\n    var seq = 0;\n    for (var i = 0; i < n; i++) {\n      seq = (seq << 1) | this.shift();\n    }\n    return seq;\n  },\n  /**\n   * @return {String} string representing binary sequence of n bits\n   */\n  seqString: function(n) {\n    var seq = \"\";\n    for (var i = 0; i < n; i++) {\n      seq += this.shift();\n    }\n    return seq;\n  },\n  /**\n   * @return {Number} number of shifts before initial state repeats\n   */\n  maxSeqLen: function() {\n    var initialState = this.register,\n      counter = 0;\n    do {\n      this.shift();\n      counter++;\n    } while (initialState !== this.register);\n    return counter;\n  },\n  /**\n   * @return {Number} number that is represented by sequence\n   * of 1 and 0\n   */\n  _defaultSeed: function(n) {\n    if (!n) throw new Error(\"n is required\");\n    var lfsr = new LFSR(8, 92914);\n    return lfsr.seq(n);\n  }\n};\n\nexport default LFSR;\n","import React, { useEffect } from \"react\";\nimport Transport from \"../Transport\";\nimport Tone from \"../Tone\";\nimport LFSR from \"../LFSR\";\nimport { DefaultSynth, PulseSynth, BetterSynth } from \"../Synths\";\n\nexport default function() {\n  const length = \"1m\";\n\n  function makeLFSR(seed) {\n    const initial = parseInt(seed, 2);\n    return new LFSR(seed.length, initial);\n  }\n\n  function run() {\n    const synths = [new DefaultSynth(), new PulseSynth(), new BetterSynth()];\n    const synthsLFSR = makeLFSR(\"1001\");\n\n    const notes = [\"C4\", \"D4\", \"E4\", \"F4\"];\n    const notesLFSR = makeLFSR(\"1001\");\n\n    const select = (lfsr, array) => {\n      lfsr.shift();\n      const index = lfsr.register % array.length;\n      return array[index];\n    };\n\n    const synthLoop = new Tone.Loop(time => {\n      select(synthsLFSR, synths).triggerAttackRelease(\n        select(notesLFSR, notes),\n        \"4n\",\n        time\n      );\n    }, \"4n\");\n\n    synthLoop.start(\"0m\").stop(length);\n\n    return () => {\n      synths.forEach(synth => synth.dispose());\n      synthLoop.dispose();\n    };\n  }\n\n  useEffect(run, []);\n\n  return (\n    <div>\n      <p>Four Notes, Three Synths, and an LFSR.</p>\n      <Transport length={length} />\n    </div>\n  );\n}\n","const PitchToMidi = note => {\n  const regexp = /^([a-g]{1}(?:b|#|x|bb)?)(-?[0-9]+)/i;\n  const noteToScaleIndex = {\n    cbb: -2,\n    cb: -1,\n    c: 0,\n    \"c#\": 1,\n    cx: 2,\n    dbb: 0,\n    db: 1,\n    d: 2,\n    \"d#\": 3,\n    dx: 4,\n    ebb: 2,\n    eb: 3,\n    e: 4,\n    \"e#\": 5,\n    ex: 6,\n    fbb: 3,\n    fb: 4,\n    f: 5,\n    \"f#\": 6,\n    fx: 7,\n    gbb: 5,\n    gb: 6,\n    g: 7,\n    \"g#\": 8,\n    gx: 9,\n    abb: 7,\n    ab: 8,\n    a: 9,\n    \"a#\": 10,\n    ax: 11,\n    bbb: 9,\n    bb: 10,\n    b: 11,\n    \"b#\": 12,\n    bx: 13\n  };\n\n  const split = regexp.exec(note);\n  const pitch = split[1];\n  const octave = split[2];\n  const index = noteToScaleIndex[pitch.toLowerCase()];\n  return index + (parseInt(octave, 10) + 1) * 12;\n};\n\nexport default {};\nexport { PitchToMidi };\n","import React, { useEffect } from \"react\";\nimport Transport from \"../Transport\";\nimport Tone from \"../Tone\";\nimport LFSR from \"../LFSR\";\nimport { DefaultSynth, PulseSynth, BetterSynth } from \"../Synths\";\nimport { PitchToMidi } from \"../MIDI\";\n\nexport default function() {\n  const length = \"1m\";\n\n  function makeLFSR(seed) {\n    const initial = parseInt(seed, 2);\n    return new LFSR(seed.length, initial);\n  }\n\n  const buildTriad = root =>\n    [0, 4, 7].map(semi => Tone.Frequency(PitchToMidi(root) + semi, \"midi\"));\n\n  function run() {\n    const synths = [new DefaultSynth(), new PulseSynth(), new BetterSynth()];\n    const synthsLFSR = makeLFSR(\"1001\");\n\n    const notes = [...buildTriad(\"C4\"), ...buildTriad(\"F4\")];\n    const notesLFSR = makeLFSR(\"1001\");\n\n    const select = (lfsr, array) => {\n      lfsr.shift();\n      const index = lfsr.register % array.length;\n      return array[index];\n    };\n\n    const synthLoop = new Tone.Loop(time => {\n      select(synthsLFSR, synths).triggerAttackRelease(\n        select(notesLFSR, notes),\n        \"4n\",\n        time\n      );\n    }, \"4n\");\n\n    synthLoop.start(\"0m\").stop(length);\n\n    return () => {\n      synths.forEach(synth => synth.dispose());\n      synthLoop.dispose();\n    };\n  }\n\n  useEffect(run, []);\n\n  return (\n    <div>\n      <p>Eight Notes, Three Synths, Basic Theory, and LFSR.</p>\n      <Transport length={length} />\n    </div>\n  );\n}\n","import React, { useEffect } from \"react\";\nimport Transport from \"../Transport\";\nimport Tone from \"../Tone\";\nimport LFSR from \"../LFSR\";\nimport { PitchToMidi } from \"../MIDI\";\nimport { DefaultSynth, PulseSynth, BetterSynth } from \"../Synths\";\n\nexport default function() {\n  const length = \"1m\";\n\n  function makeLFSR(seed) {\n    const initial = parseInt(seed, 2);\n    return new LFSR(seed.length, initial);\n  }\n\n  const buildTriad = root =>\n    [0, 4, 7].map(semi => Tone.Frequency(PitchToMidi(root) + semi, \"midi\"));\n\n  function run() {\n    const synths = [new DefaultSynth(), new PulseSynth(), new BetterSynth()];\n    const synthsLFSR = makeLFSR(\"1001\");\n\n    const notes = [...buildTriad(\"C4\"), ...buildTriad(\"F4\")];\n    const notesLFSR = makeLFSR(\"1001\");\n\n    const select = (lfsr, array, skip) => {\n      lfsr.shift();\n      const index = lfsr.register % (array.length + (skip ? skip : 0));\n      return array[index];\n    };\n\n    const synthLoop = new Tone.Loop(time => {\n      const synth = select(synthsLFSR, synths, 1);\n\n      if (synth) {\n        synth.triggerAttackRelease(select(notesLFSR, notes), \"4n\", time);\n      }\n    }, \"4n\");\n\n    synthLoop.start(\"0m\").stop(length);\n\n    return () => {\n      synths.forEach(synth => synth.dispose());\n      synthLoop.dispose();\n    };\n  }\n\n  useEffect(run, []);\n\n  return (\n    <div>\n      <p>Eight Notes, Three Synths, Basic Theory, Rests, and an LFSR.</p>\n      <Transport length={length} />\n    </div>\n  );\n}\n","import React, { useEffect } from \"react\";\nimport Transport from \"../Transport\";\nimport Tone from \"../Tone\";\nimport LFSR from \"../LFSR\";\nimport { PitchToMidi } from \"../MIDI\";\nimport { DefaultSynth, PulseSynth, BetterSynth } from \"../Synths\";\n\nexport default function() {\n  const length = \"1m\";\n\n  function KickDrum() {\n    return new Tone.MembraneSynth().toMaster();\n  }\n\n  function SnareDrum() {\n    return new Tone.NoiseSynth().toMaster();\n  }\n\n  function HatDrum() {\n    const hat = new Tone.MetalSynth().toMaster();\n    hat.volume.value = -20;\n    return hat;\n  }\n\n  function makeLFSR(seed) {\n    const initial = parseInt(seed, 2);\n    return new LFSR(seed.length, initial);\n  }\n\n  const buildTriad = root =>\n    [0, 4, 7].map(semi => Tone.Frequency(PitchToMidi(root) + semi, \"midi\"));\n\n  const velocity = v => Math.random() * v + (1 - v);\n\n  function run() {\n    const synths = [new DefaultSynth(), new PulseSynth(), new BetterSynth()];\n    const synthsLFSR = makeLFSR(\"100101\");\n\n    const drums = [new KickDrum(), new SnareDrum(), new HatDrum()];\n    const percussion = [\n      t => drums[0].triggerAttackRelease(\"C1\", \"4n\", t, velocity(0.25)),\n      t => drums[1].triggerAttackRelease(\"2n\", t, velocity(0.25)),\n      t => drums[2].triggerAttackRelease(\"8n\", t, velocity(0.5))\n    ];\n    const percussionLFSR = makeLFSR(\"100101\");\n\n    const notes = [...buildTriad(\"C4\"), ...buildTriad(\"F4\")];\n    const notesLFSR = makeLFSR(\"100101\");\n\n    const select = (lfsr, array, skip) => {\n      lfsr.shift();\n      const index = lfsr.register % (array.length + (skip ? skip : 0));\n      return array[index];\n    };\n\n    const synthLoop = new Tone.Loop(time => {\n      const synth = select(synthsLFSR, synths, 1);\n\n      if (synth) {\n        synth.triggerAttackRelease(select(notesLFSR, notes), \"4n\", time);\n      }\n    }, \"4n\");\n\n    synthLoop.start(\"0m\").stop(length);\n\n    const drumLoop = new Tone.Loop(time => {\n      const hit = select(percussionLFSR, percussion, 1);\n\n      if (hit) {\n        hit(time);\n      }\n    }, \"4n\");\n\n    drumLoop.start(\"0m\").stop(length);\n\n    return () => {\n      synths.forEach(synth => synth.dispose());\n      drums.forEach(drum => drum.dispose());\n      synthLoop.dispose();\n      drumLoop.dispose();\n    };\n  }\n\n  useEffect(run, []);\n\n  return (\n    <div>\n      <p>\n        Eight Notes, Three Synths, Basic Theory, Rests, Percussion, and LFSRs.\n      </p>\n      <Transport length={length} />\n    </div>\n  );\n}\n","import React, { useEffect } from \"react\";\nimport Transport from \"../Transport\";\nimport Tone from \"../Tone\";\nimport LFSR from \"../LFSR\";\nimport { PitchToMidi } from \"../MIDI\";\nimport { DefaultSynth, PulseSynth, BetterSynth } from \"../Synths\";\n\nexport default function() {\n  const length = \"1m\";\n\n  function KickDrum() {\n    return new Tone.MembraneSynth().toMaster();\n  }\n\n  function SnareDrum() {\n    return new Tone.NoiseSynth().toMaster();\n  }\n\n  function HatDrum() {\n    const hat = new Tone.MetalSynth().toMaster();\n    hat.volume.value = -20;\n    return hat;\n  }\n\n  function makeLFSR(seed) {\n    const initial = parseInt(seed, 2);\n    return new LFSR(seed.length, initial);\n  }\n\n  const buildTriad = root =>\n    [0, 4, 7].map(semi => Tone.Frequency(PitchToMidi(root) + semi, \"midi\"));\n\n  const velocity = v => Math.random() * v + (1 - v);\n\n  function run() {\n    const synths = [new DefaultSynth(), new PulseSynth(), new BetterSynth()];\n    const synthsLFSR = makeLFSR(\"1001\");\n\n    const drums = [new KickDrum(), new SnareDrum(), new HatDrum()];\n    const percussion = [\n      t => drums[0].triggerAttackRelease(\"C1\", \"4n\", t, velocity(0.25)),\n      t => drums[1].triggerAttackRelease(\"2n\", t, velocity(0.25)),\n      t => drums[2].triggerAttackRelease(\"8n\", t, velocity(0.5))\n    ];\n    const percussionLFSR = makeLFSR(\"1001\");\n\n    const notes = [...buildTriad(\"C4\"), ...buildTriad(\"F4\")];\n    const notesLFSR = makeLFSR(\"1001\");\n\n    const select = (lfsr, array, skip) => {\n      lfsr.shift();\n      const index = lfsr.register % (array.length + (skip ? skip : 0));\n      return array[index];\n    };\n\n    const synthLoop = new Tone.Loop(time => {\n      const synth = select(synthsLFSR, synths, 1);\n\n      if (synth) {\n        synth.triggerAttackRelease(select(notesLFSR, notes), \"4n\", time);\n      }\n    }, \"4n\");\n\n    synthLoop.start(\"0m\").stop(length);\n\n    const drumLoop = new Tone.Loop(time => {\n      const hit = select(percussionLFSR, percussion, 1);\n\n      if (hit) {\n        hit(time);\n      }\n    }, \"8n\");\n\n    drumLoop.start(\"0m\").stop(length);\n\n    return () => {\n      synths.forEach(synth => synth.dispose());\n      drums.forEach(drum => drum.dispose());\n      synthLoop.dispose();\n      drumLoop.dispose();\n    };\n  }\n\n  useEffect(run, []);\n\n  return (\n    <div>\n      <p>\n        Eight Notes, Three Synths, Basic Theory, Rests, Percussion, and\n        staggered LFSRs.\n      </p>\n      <Transport length={length} />\n    </div>\n  );\n}\n","export const EXAMPLE_1 = \"/example-1\";\nexport const EXAMPLE_2 = \"/example-2\";\nexport const EXAMPLE_3 = \"/example-3\";\nexport const EXAMPLE_4 = \"/example-4\";\nexport const EXAMPLE_5 = \"/example-5\";\nexport const EXAMPLE_6 = \"/example-6\";\nexport const EXAMPLE_7 = \"/example-7\";\nexport const EXAMPLE_8 = \"/example-8\";\nexport const EXAMPLE_9 = \"/example-9\";\nexport const EXAMPLE_10 = \"/example-10\";\n","import React, { useState } from \"react\";\nimport { HashRouter, Switch, Route, NavLink } from \"react-router-dom\";\nimport Tone from \"./components/Tone\";\nimport Example1 from \"./components/Example1\";\nimport Example2 from \"./components/Example2\";\nimport Example3 from \"./components/Example3\";\nimport Example4 from \"./components/Example4\";\nimport Example5 from \"./components/Example5\";\nimport Example6 from \"./components/Example6\";\nimport Example7 from \"./components/Example7\";\nimport Example8 from \"./components/Example8\";\nimport Example9 from \"./components/Example9\";\nimport Example10 from \"./components/Example10\";\nimport * as ROUTES from \"./constants/routes\";\nimport \"./App.css\";\n\nfunction App(props) {\n  const [authorized, setAuthorized] = useState(\n    Tone.context.state === \"suspended\"\n  );\n\n  const initialize = () => {\n    Tone.start().then(() => setAuthorized(true));\n  };\n\n  if (!authorized) {\n    return <button onClick={initialize}>click to permit AudioContext</button>;\n  }\n\n  return (\n    <main className=\"app\">\n      <h1>Ten Steps to an Algorithmic Song</h1>\n      <hr />\n      <HashRouter basename=\"/\">\n        <nav className=\"examplesNav\">\n          <NavLink to={ROUTES.EXAMPLE_1} activeClassName=\"active\">\n            1\n          </NavLink>\n          <NavLink to={ROUTES.EXAMPLE_2} activeClassName=\"active\">\n            2\n          </NavLink>\n          <NavLink to={ROUTES.EXAMPLE_3} activeClassName=\"active\">\n            3\n          </NavLink>\n          <NavLink to={ROUTES.EXAMPLE_4} activeClassName=\"active\">\n            4\n          </NavLink>\n          <NavLink to={ROUTES.EXAMPLE_5} activeClassName=\"active\">\n            5\n          </NavLink>\n          <NavLink to={ROUTES.EXAMPLE_6} activeClassName=\"active\">\n            6\n          </NavLink>\n          <NavLink to={ROUTES.EXAMPLE_7} activeClassName=\"active\">\n            7\n          </NavLink>\n          <NavLink to={ROUTES.EXAMPLE_8} activeClassName=\"active\">\n            8\n          </NavLink>\n          <NavLink to={ROUTES.EXAMPLE_9} activeClassName=\"active\">\n            9\n          </NavLink>\n          <NavLink to={ROUTES.EXAMPLE_10} activeClassName=\"active\">\n            10\n          </NavLink>\n        </nav>\n        <hr />\n        <section className=\"activeExample\">\n          <Switch>\n            <Route path={ROUTES.EXAMPLE_1} component={Example1} />\n            <Route path={ROUTES.EXAMPLE_2} component={Example2} />\n            <Route path={ROUTES.EXAMPLE_3} component={Example3} />\n            <Route path={ROUTES.EXAMPLE_4} component={Example4} />\n            <Route path={ROUTES.EXAMPLE_5} component={Example5} />\n            <Route path={ROUTES.EXAMPLE_6} component={Example6} />\n            <Route path={ROUTES.EXAMPLE_7} component={Example7} />\n            <Route path={ROUTES.EXAMPLE_8} component={Example8} />\n            <Route path={ROUTES.EXAMPLE_9} component={Example9} />\n            <Route path={ROUTES.EXAMPLE_10} component={Example10} />\n          </Switch>\n        </section>\n      </HashRouter>\n    </main>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport * as serviceWorker from \"./serviceWorker\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}